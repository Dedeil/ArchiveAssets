VertexLitGeneric {
	$basetexture			"models/bots/sniper/sniper_bot_quiver"

	$basemapalphaphongmask	1

	$phong					1
	$phongboost				4
	$phongexponent			10	
	$phongfresnelranges		"[.6 .9 1]"
	$halflambert			0

	$lightwarptexture		"models/lightwarps/robot_lightwarp"

	$rimlight				1
	$rimlightexponent		1
	$rimlightboost			2

	// Fire
	$detail					"effects/tiledfire/fireLayeredSlowTiled512"
	$detailscale			5
	$detailblendfactor		0	// Why was this .01 instead of 0?
	$detailblendmode		6

	// Store result of Jarate effect
	$yellow					0

	// Cloaking
	$cloakPassEnabled		1

	Proxies {
		// Team-colored cloak
		spy_invis {}

		// Animate the fire texture
		AnimatedTexture {
			animatedtexturevar $detail
			animatedtextureframenumvar $detailframe
			animatedtextureframerate 30
		}

		// Use the level of burning to determine how much it should be
		BurnLevel {
			resultVar $detailblendfactor
		}

		// Get the level of the Jarate effect
		YellowLevel {
			resultVar $yellow
		}

		// Apply the Jarate effect to $color2 whenever possible
		Equals {
			srcVar1  $yellow
			resultVar $color2
		}
	}
}
